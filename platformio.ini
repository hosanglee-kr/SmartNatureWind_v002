; PlatformIO Project Configuration File
;
;   Build options: build flags, source filter
;   Upload options: custom upload port, speed and extra flags
;   Library options: dependencies, extra library storages
;   Advanced options: extra scripting
;
; Please visit documentation for the other options and examples
; https://docs.platformio.org/page/projectconf.html

[platformio]
    default_envs            = esp32-s3-zero
    data_dir                = ./src/v015/data_v015
    build_cache_dir 		= ./.pio/build_cache

;[env:esp32doit]
;    platform = espressif32
;    board = esp32doit-devkit-v1
;    framework = arduino
;    lib_deps =
;        bblanchon/ArduinoJson @ ^7.4.2
;        esp32async/ESPAsyncWebServer@^3.8.0     #me-no-dev/ESP Async WebServer@^1.2.3
;        #me-no-dev/AsyncTCP@^1.1.1
;    board_build.filesystem = littlefs


[env:esp32-s3-zero]
    platform = espressif32
    framework = arduino
    ; ESP32-S3 DevKitC-1 ë³´ë“œ í”„ë¡œíŒŒì¼ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
    board = esp32-s3-devkitc-1

    board_build.f_cpu = 240000000L
    board_build.f_flash = 80000000L
    board_build.flash_mode = qio

    board_upload.flash_size = 4MB
    board_build.partitions = default_4MB.csv

    ; ì˜¤ë²„í´ëŸ­ëœ ì½”ì–´ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° 240MHzë¡œ ì„¤ì •í•©ë‹ˆë‹¤.
    board_build.mcu = esp32s3
    monitor_speed = 115200


    lib_deps =
        bblanchon/ArduinoJson @ ^7.4.2
        esp32async/ESPAsyncWebServer@^3.9.3     #me-no-dev/ESP Async WebServer@^1.2.3
        #me-no-dev/AsyncTCP@^1.1.1

        h2zero/NimBLE-Arduino @ ^2.3.7
        adafruit/Adafruit Unified Sensor @ ^1.1.15
        adafruit/DHT sensor library @ ^1.4.6

    board_build.filesystem = littlefs

    build_unflags = -std=gnu++11
    ; ë¹Œë“œ í”Œë˜ê·¸ (ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ë˜ì§€ë§Œ, ë””ë²„ê¹… ë“±ì— ìœ ìš©)
    build_flags =
        -DBOARD_HAS_PSRAM
        -mfix-esp32-psram-cache-issue
        -DARDUINO_USB_CDC_ON_BOOT=1 ; USB CDC í™œì„±í™” (USB ë„¤ì´í‹°ë¸Œ í¬íŠ¸ ì‚¬ìš© ì‹œ)
        -std=gnu++17

        -D ASYNCWEBSERVER_REGEX

        ; ESP32 BLE ìŠ¤íƒì„ NimBLEë¡œ ê°•ì œ ì§€ì •í•©ë‹ˆë‹¤.
        -DCONFIG_BT_NIMBLE_ENABLED=1
        -DCONFIG_BT_BLE_ENABLED=1

        ; WDT ë¹„í™œì„±í™” (ê¶Œì¥í•˜ì§€ ì•ŠìŒ)
        ;-D CONFIG_FREERTOS_WATCHDOG_CPU_ID=0
        ;-D CONFIG_TASK_WDT_CHECK_IDLE_TASK=n



    build_src_filter =
        +<*>                ; ğŸ‘ˆ ëª¨ë“  ì†ŒìŠ¤ íŒŒì¼ì„ ê¸°ë³¸ì ìœ¼ë¡œ í¬í•¨ (Include all files)
        -<v014_backup/>     ; ğŸ‘ˆ v014_backup í´ë”ë§Œ ëª…ì‹œì ìœ¼ë¡œ ì œì™¸ (Exclude the backup folder)
        -<v015_backup/>
        -<v014/>     ;
