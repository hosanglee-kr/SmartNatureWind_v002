# W10_Web_apiëª…ì„¸_024.md

### ğŸŒ 1. ì‹œìŠ¤í…œ ë° ë²„ì „ (System & Version)

* **API:** /api/version
* **ë©”ì„œë“œ:** GET
* **ê¸°ëŠ¥:** ì¥ì¹˜ì˜ í˜„ì¬ íŒì›¨ì–´ ë²„ì „ ë° ë¹Œë“œ ì •ë³´ë¥¼ ì¡°íšŒ
* **ì†ŒìŠ¤ íŒŒì¼:** W10_Web_Routes_024.cpp (routeVersion)
* **ìš”ì²­:** (ì—†ìŒ)
* **ì‘ë‹µ:** {"module": "SmartNatureWind", "fw": "V024", ...}
---
* **API:** /api/system
* **ë©”ì„œë“œ:** GET
* **ê¸°ëŠ¥:** ì¥ì¹˜ì˜ ì‹œìŠ¤í…œ ì„¤ì •(ì¥ì¹˜ ì´ë¦„, ë³´ì•ˆ í‚¤ ë“±)ì„ ì¡°íšŒ
* **ì†ŒìŠ¤ íŒŒì¼:** W10_Web_Routes_024.cpp (routeSystem)
* **ìš”ì²­:** (ì—†ìŒ)
* **ì‘ë‹µ:** {"system": {...}}
---
* **API:** /api/system
* **ë©”ì„œë“œ:** POST
* **ê¸°ëŠ¥:** ì¥ì¹˜ì˜ ì‹œìŠ¤í…œ ì„¤ì •ì„ ì—…ë°ì´íŠ¸
* **ì†ŒìŠ¤ íŒŒì¼:** W10_Web_Routes_024.cpp (routeSystem)
* **ìš”ì²­:** {"system": {...}}
* **ì‘ë‹µ:** {"success": true}
---
* **API:** /api/config/init
* **ë©”ì„œë“œ:** POST
* **ê¸°ëŠ¥:** ëª¨ë“  ì„¤ì •ì„ ê¸°ë³¸ê°’ìœ¼ë¡œ ì´ˆê¸°í™”í•˜ê³  ì¬ë¶€íŒ…
* **ì†ŒìŠ¤ íŒŒì¼:** W10_Web_Routes_024.cpp (routeConfigInit)
* **ìš”ì²­:** (ì—†ìŒ)
* **ì‘ë‹µ:** {"factory": true}
---
* **API:** /api/reload
* **ë©”ì„œë“œ:** POST
* **ê¸°ëŠ¥:** í˜„ì¬ ì„¤ì • íŒŒì¼(LittleFS)ì„ ë‹¤ì‹œ ì½ê³  ì ìš©
* **ì†ŒìŠ¤ íŒŒì¼:** W10_Web_Routes_024.cpp (routeReload)
* **ìš”ì²­:** (ì—†ìŒ)
* **ì‘ë‹µ:** {"result": "ok"}
---

### ğŸ“¡ 2. ë„¤íŠ¸ì›Œí¬ ë° ìƒíƒœ (Network & Diagnostics)

* **API:** /api/state
* **ë©”ì„œë“œ:** GET
* **ê¸°ëŠ¥:** ì¥ì¹˜ì˜ ì‹¤ì‹œê°„ ìƒíƒœ(Wi-Fi, ì„¼ì„œ, í˜„ì¬ ì œì–´ ëª¨ë“œ)ë¥¼ ì¡°íšŒ
* **ì†ŒìŠ¤ íŒŒì¼:** W10_Web_Routes_024.cpp (routeState)
* **ìš”ì²­:** (ì—†ìŒ)
* **ì‘ë‹µ:** {"state": {...}, "motion": {...}}
---
* **API:** /api/wifi
* **ë©”ì„œë“œ:** GET
* **ê¸°ëŠ¥:** Wi-Fi ì—°ê²° ìƒíƒœ ë° ì„¤ì • ì •ë³´ë¥¼ ì¡°íšŒ
* **ì†ŒìŠ¤ íŒŒì¼:** W10_Web_Routes_024.cpp (routeWifi)
* **ìš”ì²­:** (ì—†ìŒ)
* **ì‘ë‹µ:** {"wifi": {...}}
---
* **API:** /api/wifi
* **ë©”ì„œë“œ:** POST
* **ê¸°ëŠ¥:** Wi-Fi ì„¤ì •ì„ ì—…ë°ì´íŠ¸í•˜ê³  ì—°ê²° ì‹œë„
* **ì†ŒìŠ¤ íŒŒì¼:** W10_Web_Routes_024.cpp (routeWifi)
* **ìš”ì²­:** {"wifi": {...}}
* **ì‘ë‹µ:** {"success": true}
---
* **API:** /api/scan
* **ë©”ì„œë“œ:** GET
* **ê¸°ëŠ¥:** ì£¼ë³€ Wi-Fi ë„¤íŠ¸ì›Œí¬ ëª©ë¡ì„ ìŠ¤ìº” ë° ì¡°íšŒ
* **ì†ŒìŠ¤ íŒŒì¼:** W10_Web_Routes_024.cpp (routeScan)
* **ìš”ì²­:** (ì—†ìŒ)
* **ì‘ë‹µ:** {"scan": [...]}
---
* **API:** /api/diag
* **ë©”ì„œë“œ:** GET
* **ê¸°ëŠ¥:** ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰, íŒŒì¼ ì‹œìŠ¤í…œ ìƒíƒœ ë“± ì§„ë‹¨ ì •ë³´ë¥¼ ì¡°íšŒ
* **ì†ŒìŠ¤ íŒŒì¼:** W10_Web_Routes_024.cpp (routeDiag)
* **ìš”ì²­:** (ì—†ìŒ)
* **ì‘ë‹µ:** {"heap": ..., "fs_used": ..., "fs_total": ...}
---
* **API:** /api/logs
* **ë©”ì„œë“œ:** GET
* **ê¸°ëŠ¥:** ì €ì¥ëœ ì‹œìŠ¤í…œ ë¡œê·¸ì˜ ìµœê·¼ ë‚´ìš©ì„ ì¡°íšŒ
* **ì†ŒìŠ¤ íŒŒì¼:** W10_Web_Routes_024.cpp (routeLogs)
* **ìš”ì²­:** (ì—†ìŒ)
* **ì‘ë‹µ:** {"logs": ["...", "..."]}
---
* **API:** /api/metrics
* **ë©”ì„œë“œ:** GET
* **ê¸°ëŠ¥:** ì¥ì¹˜ì˜ ì„±ëŠ¥ ì§€í‘œ(CPU, íƒœìŠ¤í¬ ë“±)ë¥¼ ì¡°íšŒ
* **ì†ŒìŠ¤ íŒŒì¼:** W10_Web_Routes_024.cpp (routeMetrics)
* **ìš”ì²­:** (ì—†ìŒ)
* **ì‘ë‹µ:** {"metrics": {...}}
---

### ğŸ’¨ 3. ì œì–´ ë° í”„ë¡œíŒŒì¼ (Control & Profiles)

* **API:** /api/control/summary
* **ë©”ì„œë“œ:** GET
* **ê¸°ëŠ¥:** í˜„ì¬ í™œì„±í™”ëœ ì œì–´ ìƒíƒœ(ì˜¤ë²„ë¼ì´ë“œ, í”„ë¡œíŒŒì¼) ë° ë©”íŠ¸ë¦­ìŠ¤ë¥¼ ìš”ì•½ ì¡°íšŒ
* **ì†ŒìŠ¤ íŒŒì¼:** W10_Web_Routes_024.cpp (routeControlSummary)
* **ìš”ì²­:** (ì—†ìŒ)
* **ì‘ë‹µ:** {"summary": {...}, "metrics": {...}}
---
* **API:** /api/control/profile/select
* **ë©”ì„œë“œ:** POST
* **ê¸°ëŠ¥:** íŠ¹ì • ì‚¬ìš©ì í”„ë¡œíŒŒì¼ì„ ì„ íƒí•˜ì—¬ ì‹¤í–‰
* **ì†ŒìŠ¤ íŒŒì¼:** W10_Web_Routes_024.cpp (routeControl)
* **ìš”ì²­:** (URL Query) ?id={profile_no}
* **ì‘ë‹µ:** {"result": "ok"}
---
* **API:** /api/control/profile/stop
* **ë©”ì„œë“œ:** POST
* **ê¸°ëŠ¥:** í˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ ì‚¬ìš©ì í”„ë¡œíŒŒì¼ì„ ì •ì§€
* **ì†ŒìŠ¤ íŒŒì¼:** W10_Web_Routes_024.cpp (routeControl)
* **ìš”ì²­:** (ì—†ìŒ)
* **ì‘ë‹µ:** {"result": "ok"}
---
* **API:** /api/control/override/fixed
* **ë©”ì„œë“œ:** POST
* **ê¸°ëŠ¥:** ì§€ì •ëœ ì‹œê°„(ì´ˆ) ë™ì•ˆ ê³ ì • ì†ë„(í¼ì„¼íŠ¸)ë¡œ ì˜¤ë²„ë¼ì´ë“œ
* **ì†ŒìŠ¤ íŒŒì¼:** W10_Web_Routes_024.cpp (routeControl)
* **ìš”ì²­:** (URL Query) ?percent={0.0~1.0}&seconds={duration}
* **ì‘ë‹µ:** {"result": "ok"}
---
* **API:** /api/control/override/preset
* **ë©”ì„œë“œ:** POST
* **ê¸°ëŠ¥:** ì§€ì •ëœ ì‹œê°„(ì´ˆ) ë™ì•ˆ íŠ¹ì • Preset/Styleë¡œ ì˜¤ë²„ë¼ì´ë“œ (JSON Body ì‚¬ìš©)
* **ì†ŒìŠ¤ íŒŒì¼:** W10_Web_Routes_024.cpp (routeControl)
* **ìš”ì²­:** {"presetCode": "CODE", "styleCode": "STYLE", "durationSec": 60, "adjust": {...}}
* **ì‘ë‹µ:** {"result": "ok"}
---
* **API:** /api/control/override/clear
* **ë©”ì„œë“œ:** POST
* **ê¸°ëŠ¥:** í˜„ì¬ ì ìš© ì¤‘ì¸ ì˜¤ë²„ë¼ì´ë“œ(Fixed/Preset)ë¥¼ í•´ì œ
* **ì†ŒìŠ¤ íŒŒì¼:** W10_Web_Routes_024.cpp (routeControl)
* **ìš”ì²­:** (ì—†ìŒ)
* **ì‘ë‹µ:** {"result": "ok"}
---
* **API:** /api/windProfile
* **ë©”ì„œë“œ:** GET
* **ê¸°ëŠ¥:** ì €ì¥ëœ ë°”ëŒ Preset ë° Style ëª©ë¡ì„ ì¡°íšŒ
* **ì†ŒìŠ¤ íŒŒì¼:** W10_Web_Routes_024.cpp (routeWindProfile)
* **ìš”ì²­:** (ì—†ìŒ)
* **ì‘ë‹µ:** {"windProfile": {"presets": [...], "styles": [...]}}
---
* **API:** /api/schedules
* **ë©”ì„œë“œ:** GET
* **ê¸°ëŠ¥:** ìŠ¤ì¼€ì¤„ ëª©ë¡ ì„¤ì •ì„ ì¡°íšŒ
* **ì†ŒìŠ¤ íŒŒì¼:** W10_Web_Routes_024.cpp (routeSchedules)
* **ìš”ì²­:** (ì—†ìŒ)
* **ì‘ë‹µ:** {"schedules": [...]}
---
* **API:** /api/schedules
* **ë©”ì„œë“œ:** POST
* **ê¸°ëŠ¥:** ìŠ¤ì¼€ì¤„ ëª©ë¡ ì„¤ì •ì„ ìˆ˜ì • ë° ì €ì¥ (JSON Patch ë°©ì‹)
* **ì†ŒìŠ¤ íŒŒì¼:** W10_Web_Routes_024.cpp (routeSchedules)
* **ìš”ì²­:** {"schedules": [...]}
* **ì‘ë‹µ:** {"updated": true/false}
---
* **API:** /api/user_profiles
* **ë©”ì„œë“œ:** GET
* **ê¸°ëŠ¥:** ì‚¬ìš©ì í”„ë¡œíŒŒì¼ ëª©ë¡ ì„¤ì •ì„ ì¡°íšŒ
* **ì†ŒìŠ¤ íŒŒì¼:** W10_Web_Routes_024.cpp (routeUserProfiles)
* **ìš”ì²­:** (ì—†ìŒ)
* **ì‘ë‹µ:** {"userProfiles": {"profiles": [...]}}
---
* **API:** /api/user_profiles
* **ë©”ì„œë“œ:** POST
* **ê¸°ëŠ¥:** ì‚¬ìš©ì í”„ë¡œíŒŒì¼ ëª©ë¡ ì„¤ì •ì„ ìˆ˜ì • ë° ì €ì¥ (JSON Patch ë°©ì‹)
* **ì†ŒìŠ¤ íŒŒì¼:** W10_Web_Routes_024.cpp (routeUserProfiles)
* **ìš”ì²­:** {"userProfiles": {"profiles": [...]}}
* **ì‘ë‹µ:** {"updated": true/false}
---

### ğŸš¶ 4. ëª¨ì…˜ ë° ì‹œë®¬ë ˆì´ì…˜ (Motion & Simulation)

* **API:** /api/motion
* **ë©”ì„œë“œ:** GET
* **ê¸°ëŠ¥:** ëª¨ì…˜ ê°ì§€ ë¡œì§ ì„¤ì •(PIR, BLE)ì„ ì¡°íšŒ
* **ì†ŒìŠ¤ íŒŒì¼:** W10_Web_Routes_024.cpp (routeMotion)
* **ìš”ì²­:** (ì—†ìŒ)
* **ì‘ë‹µ:** {"motion": {...}}
---
* **API:** /api/motion
* **ë©”ì„œë“œ:** POST
* **ê¸°ëŠ¥:** ëª¨ì…˜ ê°ì§€ ë¡œì§ ì„¤ì •ì„ ì—…ë°ì´íŠ¸
* **ì†ŒìŠ¤ íŒŒì¼:** W10_Web_Routes_024.cpp (routeMotion)
* **ìš”ì²­:** {"motion": {...}}
* **ì‘ë‹µ:** {"success": true}
---
* **API:** /api/motion/pir/feed
* **ë©”ì„œë“œ:** POST
* **ê¸°ëŠ¥:** ì™¸ë¶€ ì†ŒìŠ¤ì—ì„œ PIR ê°ì§€ ìƒíƒœ(True/False)ë¥¼ ì£¼ì…
* **ì†ŒìŠ¤ íŒŒì¼:** W10_Web_Routes_024.cpp (routeMotionFeed)
* **ìš”ì²­:** {"pir": true/false}
* **ì‘ë‹µ:** {"fed": true, "type": "pir"}
---
* **API:** /api/motion/ble/feed
* **ë©”ì„œë“œ:** POST
* **ê¸°ëŠ¥:** ì™¸ë¶€ ì†ŒìŠ¤ì—ì„œ BLE ê°ì§€ ìƒíƒœ(True/False)ë¥¼ ì£¼ì…
* **ì†ŒìŠ¤ íŒŒì¼:** W10_Web_Routes_024.cpp (routeMotionFeed)
* **ìš”ì²­:** {"ble": true/false}
* **ì‘ë‹µ:** {"fed": true, "type": "ble"}
---
* **API:** /api/simulation
* **ë©”ì„œë“œ:** POST
* **ê¸°ëŠ¥:** ì¥ì¹˜ë¥¼ ì‹œë®¬ë ˆì´ì…˜ ëª¨ë“œë¡œ ì „í™˜í•˜ê±°ë‚˜ ì„¤ì • ì—…ë°ì´íŠ¸
* **ì†ŒìŠ¤ íŒŒì¼:** W10_Web_Routes_024.cpp (routeSimulation)
* **ìš”ì²­:** {"simulate": true, ...}
* **ì‘ë‹µ:** {"success": true}
---
* **API:** /api/sim/state
* **ë©”ì„œë“œ:** GET
* **ê¸°ëŠ¥:** ì‹œë®¬ë ˆì´ì…˜ ìƒíƒœ ë° ê°€ìƒ ì„¼ì„œ ê°’ì„ ì¡°íšŒ
* **ì†ŒìŠ¤ íŒŒì¼:** W10_Web_Routes_024.cpp (routeSimState)
* **ìš”ì²­:** (ì—†ìŒ)
* **ì‘ë‹µ:** {"sim": {...}, "summary": {...}}
---
* **API:** /api/sim/chart
* **ë©”ì„œë“œ:** GET
* **ê¸°ëŠ¥:** í˜„ì¬ ì‹œë®¬ë ˆì´ì…˜/ì œì–´ ë°ì´í„° ê¸°ë°˜ ì°¨íŠ¸ ë°ì´í„°ë¥¼ ì¡°íšŒ
* **ì†ŒìŠ¤ íŒŒì¼:** W10_Web_Routes_024.cpp (routeSimulation)
* **ìš”ì²­:** (ì—†ìŒ)
* **ì‘ë‹µ:** {"chart": [...]}
---

### â« 5. íŒŒì¼ ë° íŒì›¨ì–´ ì—…ë°ì´íŠ¸ (Upload & Update)

* **API:** /upload
* **ë©”ì„œë“œ:** POST
* **ê¸°ëŠ¥:** LittleFSì— ì •ì  íŒŒì¼(Web UI ë“±)ì„ ì—…ë¡œë“œ
* **ì†ŒìŠ¤ íŒŒì¼:** W10_Web_Upload_024.cpp (routeUpload)
* **ìš”ì²­:** (multipart/form-data)
* **ì‘ë‹µ:** {"done": true}
---
* **API:** /update
* **ë©”ì„œë“œ:** POST
* **ê¸°ëŠ¥:** OTA(Over-the-Air) íŒì›¨ì–´ ì—…ë°ì´íŠ¸ ìˆ˜í–‰
* **ì†ŒìŠ¤ íŒŒì¼:** W10_Web_Upload_024.cpp (routeUpdate)
* **ìš”ì²­:** (multipart/form-data - íŒì›¨ì–´ ë°”ì´ë„ˆë¦¬)
* **ì‘ë‹µ:** {"ota": "ok"} ë˜ëŠ” {"ota": "fail", "error": "..."}
---

### ğŸ’¬ 6. WebSocket ì—”ë“œí¬ì¸íŠ¸

* **WS:** /ws/state
* **ê¸°ëŠ¥:** ì¥ì¹˜ì˜ ì‹¤ì‹œê°„ ìƒíƒœ ë° ì„¼ì„œ ê°’ ì—…ë°ì´íŠ¸ë¥¼ ìˆ˜ì‹ 
* **ì†ŒìŠ¤ íŒŒì¼:** W10_Web_WS_024.cpp (routeWebSocket)
* **ë°ì´í„°:** JSON ê°ì²´ (ì˜ˆ: {"state": {...}, "motion": {...}})
---
* **WS:** /ws/log
* **ê¸°ëŠ¥:** ì¥ì¹˜ì˜ ì‹¤ì‹œê°„ ì‹œìŠ¤í…œ ë¡œê·¸ ì¶œë ¥ì„ ìˆ˜ì‹ 
* **ì†ŒìŠ¤ íŒŒì¼:** W10_Web_WS_024.cpp (routeWebSocket)
* **ë°ì´í„°:** JSON ê°ì²´ (ì˜ˆ: {"log": "INFO", "msg": "..."})
---
* **WS:** /ws/chart
* **ê¸°ëŠ¥:** ì°¨íŠ¸/ê·¸ë˜í”„ ë°ì´í„°(ë°”ëŒ ì„¸ê¸°, ë³€ë™ì„± ë“±)ë¥¼ ìˆ˜ì‹ 
* **ì†ŒìŠ¤ íŒŒì¼:** W10_Web_WS_024.cpp (routeWebSocket)
* **ë°ì´í„°:** JSON ê°ì²´
---
* **WS:** /ws/metrics
* **ê¸°ëŠ¥:** CPU, ë©”ëª¨ë¦¬, íƒœìŠ¤í¬ ë“± ì„±ëŠ¥ ì§€í‘œë¥¼ ìˆ˜ì‹ 
* **ì†ŒìŠ¤ íŒŒì¼:** W10_Web_WS_024.cpp (routeWebSocket)
* **ë°ì´í„°:** JSON ê°ì²´ (ì˜ˆ: {"metrics": {...}})
